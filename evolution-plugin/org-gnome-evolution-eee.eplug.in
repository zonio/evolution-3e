<?xml version="1.0"?>
<e-plugin-list>
  <e-plugin 
    type="shlib" 
    id="org.gnome.evolution.eee" 
    location="@plugindir@/liborg-gnome-evolution-eee@SOEXT@" 
    load-on-startup="true" 
    name="3E Calendar Accounts Manager">

    <author name="Ondrej Jirman" email="oss@zonio.net"/>
    <description>3E Calendar sources</description>

<!--
    List of available popup menus:

    org.gnome.evolution.calendar.source.popup
    org.gnome.evolution.calendar.view.popup
    org.gnome.evolution.calendar.editor.popup.drop
    org.gnome.evolution.calendar.attachmentbar.popup
    org.gnome.evolution.calendar.meeting.popup

    Hook classes:

    org.gnome.evolution.calendar.popup:1.0
    org.gnome.evolution.calendar.events:1.0
    org.gnome.evolution.calendar.config:1.0
    org.gnome.evolution.calendar.bonobomenu:1.0

    Other:

    org.gnome.evolution.calendar.view
    org.gnome.evolution.calendar.prefs
    org.gnome.evolution.calendar.calendarProperties
    org.gnome.evolution.calendar.events

    <hook class="org.gnome.evolution.calendar.bonobomenu:1.0">
      <menu id="org.gnome.evolution.calendar.view" target="select">
        <ui file="@plugindir@/org-gnome-folder-permissions.xml"/>
        <item
          type="item" 
          verb="CheckFolderPermission" 
          path="/commands/CheckFolderPermission" 
          enable="all" 
          activate="org_gnome_exchange_menu_tasks_permissions"/>
      </menu>
    </hook>

    <hook class="org.gnome.evolution.calendar.events:1.0">
      <event 
        target="component" 
        id="component.migration" 
        handle="eee_calendar_component_migrate"/>
    </hook>
-->

    <hook class="org.gnome.evolution.calendar.popup:1.0">
      <menu 
        id="org.gnome.evolution.calendar.source.popup"
        target="source"
        factory="eee_calendar_popup_source_factory">
      </menu>
    </hook>

    <hook class="org.gnome.evolution.calendar.popup:1.0">
      <menu 
        id="org.gnome.evolution.calendar.view.popup" 
        target="select" 
        factory="eee_calendar_popup_view_factory">
      </menu>
    </hook>

    <hook class="org.gnome.evolution.shell.events:1.0">
      <event 
        id="state.changed" 
        handle="eee_calendar_state_changed" 
        target="state" />
    </hook>

    <hook class="org.gnome.evolution.shell.events:1.0">
      <event 
        id="component.activated" 
        handle="eee_calendar_component_activated" 
        target="component" />
    </hook>

    <hook class="org.gnome.evolution.calendar.config:1.0">
      <group 
        target="source" 
        id="org.gnome.evolution.calendar.calendarProperties" 
        check="eee_calendar_properties_check" 
        commit="eee_calendar_properties_commit">
        <item 
          type="item_table" 
          path="00.general/00.source/00.eee" 
          factory="eee_calendar_properties_items"/>
        <item 
          type="item_table"
          path="00.general/00.source/40.eee"
          factory="eee_calendar_properties_items"/>
      </group>
    </hook>

  </e-plugin>
</e-plugin-list>
